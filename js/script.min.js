var contactsBtn=document.querySelector(".contacts__button"),modalFeedback=document.querySelector(".feedback"),closeFeedback=document.querySelector(".feedback__close"),mapBtn=document.querySelector(".contacts__map-link"),modalMap=document.querySelector(".modal-map"),closeMap=document.querySelector(".modal-map__close"),formFeedback=document.querySelector(".feedback__form"),userFeedback=document.querySelector("#user-name"),mailFeedback=document.querySelector("#user-mail"),textFeedback=document.querySelector("#feedback-text"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("userFeedback")}catch(e){isStorageSupport=!1}contactsBtn.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),storage?(userFeedback.value=storage,mailFeedback.focus()):userFeedback.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-error")}),mapBtn.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")}),closeMap.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(modalFeedback.classList.contains("modal-show")?(e.preventDefault(),modalFeedback.classList.remove("modal-show"),modalFeedback.classList.remove("modal-error")):modalMap.classList.contains("modal-show")&&(e.preventDefault(),modalMap.classList.remove("modal-show")))}),formFeedback.addEventListener("submit",function(e){userFeedback.value&&mailFeedback.value&&textFeedback.value?isStorageSupport&&localStorage.setItem("userFeedback",userFeedback.value):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"),userFeedback.value?userFeedback.classList.remove("feedback__field--invalid"):userFeedback.classList.add("feedback__field--invalid"),mailFeedback.value?mailFeedback.classList.remove("feedback__field--invalid"):mailFeedback.classList.add("feedback__field--invalid"),textFeedback.value?textFeedback.classList.remove("feedback__field--invalid"):textFeedback.classList.add("feedback__field--invalid"))});var allServicesTab=Array.prototype.slice.call(document.querySelectorAll(".services-tab__link")),servicesSlide=document.querySelectorAll(".services-list__item"),servicesTab=document.querySelectorAll(".services-tab__link");allServicesTab.forEach(function(e,a){e.addEventListener("click",function(){for(var e=0;e<servicesSlide.length;e++)servicesSlide[e].classList.remove("services-list__item--current"),allServicesTab[e].classList.remove("services-tab__link--current");servicesTab[a].classList.add("services-tab__link--current"),servicesSlide[a].classList.add("services-list__item--current")}),e.addEventListener("focus",function(){for(var e=0;e<servicesSlide.length;e++)servicesSlide[e].classList.remove("services-list__item--current"),allServicesTab[e].classList.remove("services-tab__link--current");servicesTab[a].classList.add("services-tab__link--current"),servicesSlide[a].classList.add("services-list__item--current")})});var allPopularTab=Array.prototype.slice.call(document.querySelectorAll(".slider-toggles__button")),popularSlide=document.querySelectorAll(".promo-slider__item"),popularTab=document.querySelectorAll(".slider-toggles__button");allPopularTab.forEach(function(e,a){e.addEventListener("click",function(){for(var e=0;e<popularSlide.length;e++)popularSlide[e].classList.remove("promo-slider__item--current"),allPopularTab[e].classList.remove("slider-toggles__button--current");popularTab[a].classList.add("slider-toggles__button--current"),popularSlide[a].classList.add("promo-slider__item--current")}),e.addEventListener("focus",function(){for(var e=0;e<popularSlide.length;e++)popularSlide[e].classList.remove("promo-slider__item--current"),allPopularTab[e].classList.remove("slider-toggles__button--current");popularTab[a].classList.add("slider-toggles__button--current"),popularSlide[a].classList.add("promo-slider__item--current")})});